--1/30/20
as-delivered
width of 3-segment display is wrong, will need to bend all leads to fit
IS 22.86 mm (0.9")
x ***SHOULD BE just under 1.00" 

require stand-alone programming pins
https://www.avdweb.nl/arduino/samd21/samd21-programmer
x ***SHOULD BE ICE header
- pull-up on SWCLK pin 1k (10k?) [has internal pull-up at start-up per page 88 of SAML21 foc, 15.6.2]
https://learn.adafruit.com/programming-an-m0-using-an-arduino
- 100k on SWDIO https://www.microchip.com/webdoc/GUID-B2CE0E6C-70BF-42CF-B0CF-6705800FC877/index.html?GUID-18A97AEC-DA07-42C5-A2DA-478F7092C442

x ***consider through-hole 10k thermistor
x ***add /MR reset to allow toggle of 1.8V rail

x ***add compressed air and flux to parts list [why air...?]

x ***typo on "electronic" missing 'c'

x ***1.8V and 3.3V are shorted
x ***add test point for every voltage, i2c.  5V, 3V3, 1V8, GND, SDA, SCL

x ***add place for debug led (no-pop in final model?)

ice header
https://www.segger.com/products/debug-probes/j-link/accessories/adapters/6-pin-needle-adapter/
https://www.segger.com/fileadmin/images/products/J-Link/Accessory/Adapters/J-Link-6-Pin-Adapter-Pinout.png
https://www.segger.com/fileadmin/images/products/J-Link/Accessory/Adapters/J-Link-6-Pin-Adapter-Schematic.png
https://forum.arduino.cc/index.php?topic=442133.0

x *** review power connections to saml21 vs checklist

x *** review v1.1 mock-up functionality

x *** 2.2 --> 10uF?

option to glue pcbs together for badge
 cyanoacrylate glue
https://hackaday.io/project/168314-pcb-badge-holder

x *** will 100 mil header fit adjacent to 3 segment screen?
x *** verify each silkscreen identified is exactly next to associated pad, not one over

get wire cutters that sever really close to onee edge for flat finish

x *** straighten test points

buy extra batty bq25155 ICs

x *** review bq25155, determine what caps are used on dev board

x *** avoid vias under silkscren as it makes text hard to read

x ***buy flux in next order

x *** buy digikey parts including through-hole thermistor
x *** and close wire cutters
1.3" lead length-ish

is useful to put test point pads directly opposite foot prints used by ICs (no overlap of vias/traces)

x *** buy clip leads for bq25155 breadboarding

2/7/20

v1.2 dims: 1.16 x 1.55", 29.46 x 39.37 mm [30 x 40 mm]
AllPCB
set to IS 6mil spacing (default WAS 8)
set min hole size to 0.3mm since there was no impact on cost
H44159AS5G10 2/8/20
PayPal balance
$24.00 including shipping
ETA 2/15/20

x *** take pngs of cad
x *** bom xlsx to csv
*** assign names to traces
*** usb test points, all spi
*** buy solder head with hose shoe tip
*** loopback geological identifier

-- 2/16/20

stencil 2.315x2.902
3 mil Polyimide
0.75" boarder (min available?)
$5 minimum order
$2.95 shipping domestic, 2-7 days
https://www.oshstencils.com

-- 2/23/20

***test points missing labels "5V0", etc, only list "TP7", etc (even though they appear in CAD view...)

-- 3/1/20

as-assembled
3V0 input from battery
tp1 gnd 0.00
tp3 !mp 2.62
tp8 sda 0.00
tp7 scl 0.00

tp2 5V0 0.00
tp4 PMID 0.00
tp5 3V3 0.06
tp6 1V8 0.00 expect 1.8V

tried tying !MR to GND, but observe no distinct change in 1V8.  Unclear is !MP remains low after toggle...

usb in
tp1 gnd 0.00
tp3 !mp 0.00
tp8 sda 1.66
tp7 scl 1.78

tp2 5V0 5.18
tp4 PMID 4.53
tp5 3V3 1.79
tp6 1V8 1.79
appears microprocessor is reciving 1V8 power (3V3 being clamped low?)

held !mr for 8 seconds with 3.7V on vbat:
tp1 gnd 0.00
tp3 !mp 3.27
tp8 sda 1.67
tp7 scl 1.78

tp2 5V0 0.00
tp4 PMID 3.70
tp5 3V3 1.79
tp6 1V8 1.79

current draw...

few nA in ship mode (nosie on measurements)
unable to remain OUT of ship mode with current monitor in circuit, but works as expected when current monitor is REMOVED (tying !MR low HOLDs OUT of ship mode)
even setting current monitor to uA range specifically still seems to have issue. Observe 3.69V with current monitor at UUT, 3.70V WITHOUT current monitor, so not a voltage drop issue...
in the realm of 300-500 uA in !MR reset

VLDO_4:0 - LDO output default to ENABLED and 1.8V

Project:
delay
PB22 and PB23 as output
USB Device CDC ACM
I2C SERCOM5, SCL PB31, SDA PB30
[will need interrupts...]
set processor to saml21j16b

*** query battery voltage when first connected to USB
- 3/2/20
rework saml, reflow processor

3.7V on battery, hold !MP low 5sec
tp1 0.00V
tp3 skip
tp8 1.76V
tp7 1.77V
tp2 0.00
tp4 3.70
tp5 1.79
tp6 1.79

ICE
GND 3, 5, 9
VTG/vref 1
nRST 10
SWDIO 2
SWDCLK 4

flashed blink program, but NO illumination
voltage on LED ~0.21V
unable to observe toggling voltages on several pins attempted PA14, PA23, PB23, PB22

3/5/20

*** add section to write in serial # on silkscreen
usb shells out of stock...

3/14/20

experiment to drive pins low that are externally weakly pulled high

successfully toggled PB30: 0V LOW 1 second, 1.8V HIGH 1 second

plan: re-attempt to toggle other pins, using PB30 as known-good debug
plan: try to get serial over usb

ATSAML21J16B

hmm, no test point on usb serial communication...
are pins not pulled HIGH when set as a "digital output" by atmel start project?
seeingly only PB30 and PB31 working so far...
could talk with BQ25155 if there was a serial output...

even with pull, PA14 still appears LOW

plan: can I get BQ25155 to output >1.8V?

*** consider for the future: processor has analog measure of VDD input: ensure NOT 0V to ensure processor is bonded to PCB properly

probing pin 48: pad is 1.8V, but processor pin ~0.1V
probably not getting VDDIO delivered properly somehow...
  design flaw or manufacturing flaw?
  why PB22 and PB23 non-responsive despite being on same bank as PB30 and PB31?

measuring internal voltage refernece to determine VDDIN...?

3/15/20

what is it about Atmel Studio and Atmel projects on Github that no one comments their code?  how to I2C @ device, register?
https://github.com/tinic/Pendant2019/blob/master/sdd1306.cpp

succesfully read 0x53 from reg 0x6F
note: first time doing an i2c read on a SMT board

want >2.16V on high-g accel



